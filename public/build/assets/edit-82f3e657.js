import{u as x}from"./use-menu-f94f9720.js";import{_ as b,u as w,e as S,g as k,r as d,o as i,c as m,a as l,w as _,i as C,l as g,f as s,t as p,j as h}from"./app-0cc19bc4.js";import{C as v}from"./helper-35d4951d.js";const T={setup(){const c=w();x().onSelectKeys(["admin-categories"]);const a=S({}),t=k({name:"",slug:""}),u=o=>{t.slug=v(o.target.value),console.log(v(o.target.value))};return(async()=>{g.get(`/api/category/${c.params.id}/edit`).then(o=>{o.status==200&&(t.name=o.data.name,t.slug=o.data.slug,a.value=""),console.log(o)}).catch(o=>{o.response.status===422&&(a.value=o.response.data.errors),console.log(a.value)})})(),{category:t,errors:a,updateSlug:u,update:async()=>{g.put(`/api/category/${c.params.id}`,t).then(o=>{console.log(o),history.back()}).catch(o=>{console.log(o)})}}}},B=["form"],N={class:"row"},V={class:"col-12 col-sm-8"},j={class:"row mb-3"},I=s("div",{class:"col-12 col-sm-3 text-start text-sm-end mb-1"},[s("label",null,[s("span",{class:"text-danger me-1"},"*"),s("span",null,"Tên danh mục: ")])],-1),M={class:"col-12 col-sm-5"},U={key:0,class:"text-danger"},D={class:"row mb-3"},E=s("div",{class:"col-12 col-sm-3 text-start text-sm-end mb-1"},[s("label",null,[s("span",{class:"text-danger me-1"},"*"),s("span",null,"Slug: ")])],-1),K={class:"col-12 col-sm-5"},L={key:0,class:"text-danger"},R={class:"row"},q={class:"col-12 d-grid d-sm-flex justify-content-sm-end mx-auto"},z=s("span",null,"Lưu",-1);function A(c,e,a,t,u,f){const r=d("a-input"),o=d("a-button"),y=d("a-card");return i(),m("form",{onSubmit:e[2]||(e[2]=C((...n)=>t.update&&t.update(...n),["prevent"])),form:t.category},[l(y,{title:"Thêm danh mục phim",style:{width:"100%"}},{default:_(()=>[s("div",N,[s("div",V,[s("div",j,[I,s("div",M,[l(r,{placeholder:"Tên danh mục",value:t.category.name,"onUpdate:value":e[0]||(e[0]=n=>t.category.name=n),onInput:t.updateSlug,"allow-clear":""},null,8,["value","onInput"]),t.errors.name?(i(),m("span",U,p(t.errors.name[0]),1)):h("",!0)])]),s("div",D,[E,s("div",K,[l(r,{placeholder:"slug",value:t.category.slug,"onUpdate:value":e[1]||(e[1]=n=>t.category.slug=n),"allow-clear":""},null,8,["value"]),t.errors.slug?(i(),m("span",L,p(t.errors.address[0]),1)):h("",!0)])])])]),s("div",R,[s("div",q,[l(o,{type:"primary","html-type":"submit",class:"me-0 me-sm-3 mb-3 mb-sm-0"},{default:_(()=>[z]),_:1})])])]),_:1})],40,B)}const J=b(T,[["render",A]]);export{J as default};
