import{_ as b,e as r,g as w,h as _,r as d,o as g,c as x,a as l,w as p,i as y,l as v,f as e}from"./app-0cc19bc4.js";import{u as C}from"./use-menu-f94f9720.js";const D={setup(){C().onSelectKeys(["admin-schedules-create"]);const t=r({}),i=r([{}]),s=r([{}]),n=w({movie:void 0,room:void 0,showtime:""}),h=o=>{console.log(o.toLowerCase())},c=o=>o&&o<_().endOf("day");return(()=>{v.get("/api/schedule/create").then(o=>{i.value=o.data.listMovie,s.value=o.data.listRoom})})(),{dayjs:_,schedule:n,errors:t,options:i,optionsRoom:s,disabledDate:c,creatSchedule:async()=>{console.log(n),v.post("/api/schedule",n).then(o=>{o.status==200&&(Object.assign(n,{name:"",address:""}),t.value=""),console.log(o)}).catch(o=>{o.response.status===422&&(t.value=o.response.data.errors),console.log(t.value)})},filterOption:h}}},S=["form"],M={class:"row"},j={class:"col-12 col-sm-10"},k={class:"row mb-3"},H=e("div",{class:"col-12 col-sm-3 text-start text-sm-end mb-1"},[e("label",null,[e("span",{class:"text-danger me-1"},"*"),e("span",null,"Chọn phim: ")])],-1),Y={class:"col-12 col-sm-5"},B={class:"row mb-3"},O=e("div",{class:"col-12 col-sm-3 text-start text-sm-end mb-1"},[e("label",null,[e("span",{class:"text-danger me-1"},"*"),e("span",null,"Chọn phòng: ")])],-1),R={class:"col-12 col-sm-5"},U={class:"row mb-3"},V=e("div",{class:"col-12 col-sm-3 text-start text-sm-end mb-1"},[e("label",null,[e("span",{class:"text-danger me-1"},"*"),e("span",null,"Thời gian chiếu: ")])],-1),L={class:"col-12 col-sm-5"},N={class:"row"},T={class:"col-12 d-grid d-sm-flex justify-content-sm-end mx-auto"},E=e("span",null,"Lưu",-1);function K(f,t,i,s,n,h){const c=d("a-select"),u=d("a-date-picker"),m=d("a-button"),o=d("a-card");return g(),x("form",{onSubmit:t[3]||(t[3]=y((...a)=>s.creatSchedule&&s.creatSchedule(...a),["prevent"])),form:s.schedule},[l(o,{title:"Thêm lịch chiếu phim mới",style:{width:"100%"}},{default:p(()=>[e("div",M,[e("div",j,[e("div",k,[H,e("div",Y,[l(c,{value:s.schedule.movie,"onUpdate:value":t[0]||(t[0]=a=>s.schedule.movie=a),"show-search":"",placeholder:"Chọn phim",style:{width:"100%"},options:s.options,"filter-option":!1,"field-names":{label:"name",value:"id"}},null,8,["value","options"])])]),e("div",B,[O,e("div",R,[l(c,{value:s.schedule.room,"onUpdate:value":t[1]||(t[1]=a=>s.schedule.room=a),"show-search":"",placeholder:"Chọn phòng",style:{width:"100%"},options:s.optionsRoom,"filter-option":!1,"field-names":{label:"name",value:"id"}},null,8,["value","options"])])]),e("div",U,[V,e("div",L,[l(u,{value:s.schedule.showtime,"onUpdate:value":t[2]||(t[2]=a=>s.schedule.showtime=a),format:"YYYY-MM-DD HH:mm:ss",placeholder:"Chọn thời gian",style:{width:"100%"},"disabled-date":s.disabledDate,"show-time":{defaultValue:s.dayjs("00:00:00","HH:mm:ss")}},null,8,["value","disabled-date","show-time"])])]),e("div",N,[e("div",T,[l(m,{type:"primary","html-type":"submit",class:"me-0 me-sm-3 mb-3 mb-sm-0"},{default:p(()=>[E]),_:1}),l(m,{type:"primary"})])])])])]),_:1})],40,S)}const A=b(D,[["render",K]]);export{A as default};
